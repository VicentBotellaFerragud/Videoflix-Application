//Global variables:
const form = document.getElementById("addVideoForm");
const openOrCloseFormButton = document.getElementById("openOrCloseFormbutton");
const DefaultSrc = openOrCloseFormButton.getAttribute("default-src");
const AlternativeSrc = openOrCloseFormButton.getAttribute("alternative-src");
const titleInput = document.getElementById("titleInput");
const descriptionInput = document.getElementById("descriptionInput");
const videoFileInput = document.getElementById("videoFileInput");
const waitForDiv = document.getElementById("waitForDiv");
const addVideoButton = document.getElementById("addVideoButton");

/**
 * Displays/hides the "addVideoForm" and makes some small style changes in some elements of the home page depending on the state of 
 * the form (if it's visible or not).
 */
function openOrCloseForm() {

    form.classList.toggle("hidden");
    
    if (form.className === "add-video-form hidden") {

        addVideoButton.classList.add("transition-none");
        openOrCloseFormButton.setAttribute("src", DefaultSrc);

    } else {

        addVideoButton.classList.remove("transition-none");
        openOrCloseFormButton.setAttribute("src", AlternativeSrc);

    }

}

/**
 * Hides the messages generated by the "views.py" file.
 */
function closeMessage() {

    let alertMessages = document.querySelectorAll(".alert");

    for (var i = 0; i < alertMessages.length; i++) {

        alertMessages[i].classList.add("hidden");

    }

}

/**
 * Displays the "waitForDiv" and hides the "addVideoButton".
 */
function displayWaitForDivAndHideAddVideoButton() {

    if (titleInput.value !== "" && descriptionInput.value !== "" && videoFileInput.value !== "") {

        waitForDiv.style.display = waitForDiv.style.display === 'none' ? '' : 'none';

    }
    
    addVideoButton.style.display = 'none';

}
